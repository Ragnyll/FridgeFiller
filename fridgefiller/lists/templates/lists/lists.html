{% extends "base_sidebar.html" %}

{% load item_tags %}
{% load staticfiles %}

{% block title %}
  Your Shopping Lists
{% endblock %}

{% block script %}
  <script src="{% static 'js/lists.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/quagga.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/file_input.js' %}" type="text/javascript"></script>
{% endblock %}

{% block content %}
  <h1 class="text-center">Your Shopping Lists</h1>

  {% if not user_shopping_lists %}
    <div class="text-center">
      <br>
      <h3>
        Looks like you don&apos;t have any lists created.
      </h3>
    </div>
  {% else %}
    {% for list in user_shopping_lists %}
      {% include 'lists/_list_view.html' with from_url="/lists/" %}
    {% endfor %}
  {% endif %}

  <div id="new-list-error">
    {% if messages %}
      {% for message in messages %}
        <!-- Only show messages that pertain to the list the operation was completed on -->
        {% ifequal message.extra_tags -1 %}
          <span>{{ message|safe }}</span>
        {% endifequal %}
      {% endfor %}
    {% endif %}
  </div>

  <div id="new-list">
    <h1 class="text-center">Create a new Shopping List Below</h1>
    <br>
    <form class="form-horizantal" id="new-shoppinglist-form" action="{% url 'new-list' %}" method="POST">
      <div class="row">
        {% csrf_token %}
        <div class="col-md-3">
          <input type="text" class="form-control" name="new-shoppinglist-name" id="new-shoppinglist-name" placeholder="Shopping List Name">
        </div>
        <div class="col-md-6">
          <input type="text" class="form-control" name="new-shoppinglist-desc" id="new-shoppinglist-desc" placeholder="Shopping List Description">
        </div>
        <input type="submit" class="btn btn-primary" value="Save" id="new-item-save" />
      </div>
      <br><br><br>
    </form>
  </div>
  <br>
{% endblock %}
